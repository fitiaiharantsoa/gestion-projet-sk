{% extends 'base.html.twig' %}

{% block title %}Project{% endblock %}

{% block body %}
    <h1>Project</h1>

    <h3>Progression globale du projet :</h3>

    <div class="progress mb-3" style="height: 25px;">
        <div class="progress-bar 
            {% if progressionGlobale == 100 %} bg-success
            {% elseif progressionGlobale >= 50 %} bg-info
            {% else %} bg-warning {% endif %}"
            role="progressbar"
            style="width: {{ progressionGlobale }}%;"
            aria-valuenow="{{ progressionGlobale }}"
            aria-valuemin="0"
            aria-valuemax="100">
            {{ progressionGlobale }}%
        </div>
    </div>

    <p>
        <strong>État du projet :</strong>
        <span class="badge 
            {% if progressionGlobale == 100 %} bg-success
            {% elseif progressionGlobale >= 50 %} bg-info
            {% else %} bg-secondary {% endif %}">
            {% if progressionGlobale == 100 %}
                Terminé
            {% elseif progressionGlobale >= 50 %}
                En cours
            {% else %}
                À démarrer
            {% endif %}
        </span>
    </p>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ project.id }}</td>
            </tr>
            <tr>
                <th>Titre</th>
                <td>{{ project.titre }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ project.description }}</td>
            </tr>
            <tr>
                <th>Bu</th>
                <td>{{ project.bu }}</td>
            </tr>
            <tr>
                <th>DateDebut</th>
                <td>{{ project.dateDebut ? project.dateDebut|date('Y-m-d') : '' }}</td>
            </tr>
            <tr>
                <th>DateFin</th>
                <td>{{ project.dateFin ? project.dateFin|date('Y-m-d') : '' }}</td>
            </tr>
            <tr>
                <th>Statut</th>
                <td>{{ project.statut }}</td>
            </tr>
            <tr>
                <th>Categorie</th>
                <td>{{ project.categorie }}</td>
            </tr>
            <tr>
                <th>CreatedAt</th>
                <td>{{ project.createdAt ? project.createdAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>UpdatedAt</th>
                <td>{{ project.updatedAt ? project.updatedAt|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
        </tbody>
    </table>

    <a href="{{ path('app_project_index') }}">back to list</a>
    <a href="{{ path('app_project_edit', {'id': project.id}) }}">edit</a>

    {{ include('project/_delete_form.html.twig') }}
{% endblock %}
